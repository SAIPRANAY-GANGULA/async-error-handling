<ng-container
  *ngIf="{user: user$ | async, userError: userError$ | async} as vm"
>
  <h1>{{vm | json}}</h1>
  <h1 *ngIf="!vm.userError && vm.user as user; else loading">{{ user }}</h1> <!-- Success -->
  <h1 *ngIf="vm.userError as error"> {{ error }} </h1> <!-- Error -->
  <ng-template #loading>
    <h1 *ngIf="!vm.userError"> <!-- Loading -->
      Loading...
    </h1>
  </ng-template>
</ng-container>
